"use strict";function stripIndent(e){var t=e.match(/^[ \t]*(?=\S)/gm);if(!t)return e;var a=Math.min.apply(Math,t.map(function(e){return e.length})),r=new RegExp("^[ \\t]{"+a+"}","gm");e=a>0?e.replace(r,""):e;var n=e.split(/\r?\n/);return""===n[n.length-1].trim()&&n.splice(n.length-1,1),""===n[0].trim()&&n.splice(0,1),n.join("\n")}function unescapeHtml(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}function processCodeTags(e,t){for(var a=0;a<t.length;a++)if("type"in t[a].dataset){var r=unescapeHtml(t[a].innerHTML),n=t[a].dataset.type;"pre-exercise-code"===n?e["pre-exercise-code"]=r:"sample-code"===n?e["sample-code"]=r:"solution"===n?e.solution=r:"sct"===n?e.sct=r:"hint"===n&&(e.hint=r)}}function createURLData(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}function createIFrame(e,t,a){var r=document.createElement("iframe");r.name=IFRAME_NAME+a;var n,i=!0;if("height"in e.dataset){var o=Math.round(e.dataset.height);isNaN(o)?console.log("Invalid height attribute."):o>MIN_HEIGHT?(n=o,i=!1):console.log("The height attribute should be larger than "+MIN_HEIGHT+".")}if(i){var s=MIN_HEIGHT;if("minHeight"in e.dataset){var c=Math.round(e.dataset.minHeight);isNaN(c)?console.log("Invalid min-height attribute."):c>MIN_HEIGHT?s=c:console.log("The min-height attribute should be larger than "+MIN_HEIGHT+".")}var d=t["sample-code"].split(/\r?\n/).length;if(n=Math.max(82+16*(d-2),s),"maxHeight"in e.dataset){var l=Math.round(e.dataset.maxHeight);isNaN(l)?console.log("Invalid max-height attribute."):l>MIN_HEIGHT?n=Math.min(n,l):console.log("The max-height attribute should be larger than "+MIN_HEIGHT+".")}}r.style.height=n+"px";var h="height:"+n+"px;";return r.style.width="100%",h+="width:100%;",r.setAttribute("style",h),r}function createDataForm(e,t){var a=DATACAMP_LIGHT_URL+(window.location.hostname?window.location.hostname+"/?":"?")+createURLData({}),r=document.createElement("form");r.setAttribute("method","post"),r.setAttribute("action",a),r.setAttribute("target",IFRAME_NAME+t);for(var n in e)if(e.hasOwnProperty(n)){var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",n),i.setAttribute("value",stripIndent(e[n])),r.appendChild(i)}return r}function replaceDataCampExercises(){for(var e=document.querySelectorAll("[data-datacamp-exercise]"),t=0;t<e.length;t++)!function(t){var a=e[t];if(!(a.getElementsByTagName("iframe").length>0)){if(!("lang"in a.dataset))return void console.log("DataCamp Light: Missing the data-lang attribute.");var r={language:a.dataset.lang,"pre-exercise-code":"","sample-code":"",solution:"",sct:"",hint:""};for(processCodeTags(r,a.querySelectorAll("[data-type]"));a.lastChild;)a.removeChild(a.lastChild);a.appendChild(createIFrame(a,r,t));var n=createDataForm(r,t);a.appendChild(n),n.submit(),a.removeChild(n)}}(t)}function insertCSS(){var e=document.createElement("style");e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e);var t="div[data-datacamp-exercise] > iframe {margin: 0;border: 1px solid #d5eaef;}div[data-datacamp-exercise] > code,div[data-datacamp-exercise] > div,div[data-datacamp-exercise] > p {display: none }div[data-datacamp-exercise] {background-image: url(https://cdn.datacamp.com/spinner.gif);background-repeat:no-repeat;background-position: center center;background-size: auto 80px;}";e.styleSheet?e.styleSheet.cssText=t:e.innerHTML=t}var MIN_HEIGHT=200,IFRAME_NAME="datacamp-light-iframe-",DATACAMP_LIGHT_URL="https://light.datacamp.com/";insertCSS(),replaceDataCampExercises(),document.addEventListener("DOMContentLoaded",replaceDataCampExercises);